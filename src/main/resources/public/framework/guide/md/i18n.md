# êµ­ì œí™” (ë‹¤êµ­ì–´ ì²˜ë¦¬ ì¤‘ì‹¬)
---
## 1. ê°œìš”
### êµ­ì œí™”(I18n)ë€?
**Internationalization**. i ì™€ n ì‚¬ì´ì— 18ê¸€ìì˜ ë‹¨ì–´ê°€ ìˆì–´ì„œ **I18n** ì´ë¼ê³ ë„ í‘œí˜„í•œë‹¤.  
ê°„ëµí•˜ê²Œ ì œí’ˆì´ë‚˜ ì„œë¹„ìŠ¤ë¥¼ íŠ¹ì •ì§€ì—­ì˜ ì–¸ì–´ë‚˜ ë¬¸í™”ì— ë§ì¶”ëŠ”, ì¦‰ í˜„ì§€í™”ë¼ê³  ë¶ˆë¦¬ëŠ” ê³¼ì •ì„ ì‰½ê²Œ í•  ìˆ˜ ìˆë„ë¡ ê³„íší•˜ê±°ë‚˜ ì´í–‰í•˜ëŠ” ê³¼ì •ì„ ë§í•œë‹¤.  

â€» êµ­ì œí™”ë¼ëŠ” ì£¼ì œëŠ” ë„ˆë¬´ í­ë„“ê¸° ë•Œë¬¸ì—, ë³¸ ë¬¸ì„œì—ì„œëŠ” **Spring boot**ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•œ ë‹¤êµ­ì–´ ì²˜ë¦¬ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì‘ì„±í•œë‹¤.  
  
  
## 2. ì„¤ì • ë°©ë²•  
### 1) Message Source  
Spring Bootì˜ íŠ¹ì„± ìƒ MessageSource ì„¤ì •ì´ ì´ë¯¸ ë˜ì–´ìˆìœ¼ë©°, resources í´ë” í•˜ìœ„ì— ìœ„ì¹˜í•œ messages.yml ë˜ëŠ” messages.properties íŒŒì¼ì„ default MessageSourceë¡œ ì‚¬ìš©í•œë‹¤.  
ì´ íŒŒì¼ì— ë‹¤êµ­ì–´ ëŒ€ìƒì˜ ë©”ì‹œì§€ë“¤ì„ ë“±ë¡í•˜ì—¬ ì‚¬ìš©í•˜ë©°, ì´í•˜ ë‚´ìš©ì€ .ymlì„ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆë‹¤.  
> **[Message Source ì„¸ë¶€ì„¤ì •]**  
> Â· messages.yml (ë˜ëŠ” messages.properties) í•˜ë‚˜ë§Œ ì‘ì„±í•œ ê²½ìš° ëª¨ë“  localeì— ëŒ€í•´ í•´ë‹¹ íŒŒì¼ì„ defaultë¡œ ì‚¬ìš©í•œë‹¤.  
> Â· íŠ¹ì • localeì˜ ì–¸ì–´ëŠ” messages_XX.yml(ë˜ëŠ” messages_XX.roperties) í˜•íƒœë¡œ íŒŒì¼ì„ ì¶”ê°€í•¨ìœ¼ë¡œì¨ í•´ë‹¹ ì–¸ì–´ë¥¼ ì§€ì›í•  ìˆ˜ ìˆë‹¤. (ex. í•œêµ­ì–´ ì§€ì› ì‹œ, messages_ko.yml(ë˜ëŠ” messages_ko.properties) íŒŒì¼ ì¶”ê°€)  
> Â· ë‹¨, messages íŒŒì¼ì„ í¬í•¨í•œ resource ê²½ë¡œì— **.**ì´ ë“¤ì–´ê°€ë©´ path êµ¬ë¶„ìë¡œ ì¸ì‹í•˜ë¯€ë¡œ, ì •ìƒì ì¸ ê²½ë¡œë¡œ ë¡œë”©ë˜ì§€ ì•Šìœ¼ë‹ˆ ì£¼ì˜í•œë‹¤.
> Â· Message SourceëŠ”  ë³„ë„ë¡œ ì €ì¥ëœ ê²½ë¡œë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤. message.ymlì„ ì‚¬ìš© í•  ê²½ìš°, YamlResourceBundleì„ ì‚¬ìš©í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì§€ì •í•  ìˆ˜ ìˆë‹¤.  
>> **<I18nnConfig.kt>**  
>> ```java
>> ...
>> public open fun messageSource() : MessageSource {
>>     var ms: YamlMessageSource = YamlMessageSource()
>>     // .ymlì„ ì½ì–´ì˜¬ basename ì§€ì •
>>     ms.setBasename("public/template/message/yml/messages")
>>     ms.setDefaultEncoding("UTF-8")
>>     ms.setAlwaysUseMessageFormat(true)
>>     ms.setUseCodeAsDefaultMessage(true)
>>     ms.setFallbackToSystemLocale(true)
>>     return ms;
>> }
>> ...
>> class YamlMessageSource : ResourceBundleMessageSource() {
>>     @Throws(MissingResourceException::class)`
>>     protected override fun doGetBundle(basename: String, locale: Locale) : ResourceBundle {
>>         return ResourceBundle.getBundle(basename, locale, YamlResourceBundle.Control.INSTANCE)
>>     }
>> }
>> ...
>> ```
>   
> cf) message.propertiesë¥¼ ì‚¬ìš©í•  ê²½ìš°, application.propertiesì—ì„œ ì•„ë˜ì™€ ê°™ì´ ì§€ì •í•  ìˆ˜ ìˆë‹¤..
>> **<application.properties>**  
>> ```
>> spring.messages.basename=public/template/message/messages
>> ```  
  
> **[Message Source ì‘ì„± ì˜ˆì‹œ]**  
>> **<message.yml>**  
>> ```properties
>>   ...
>>   # .propertiesì™€ ë™ì¼í•˜ê²Œ key=value í˜•ì‹ìœ¼ë¡œ ì‘ì„±
>>   login.welcome-msg=Welcome!
>>   
>>   # .ymlì˜ ê²½ìš° ì•„ë˜ì™€ ê°™ì´ ê³„ì¸µì  êµ¬ì¡°ë¡œë„ ì‘ì„±ì´ ê°€ëŠ¥
>>   lang:
>>     change: "Change the language"
>>     en: "English"
>>     ko: "Korean"
>>     select: "-select-"
>>   ...
>> ```  
>>  
>> **<message.properties>**  
>> ```properties
>>   ...
>>   # key=value í˜•ì‹ìœ¼ë¡œ ì‘ì„±
>>   login.welcome-msg=Welcome!
>>   ...
>> ```  
  
### 2) Thymeleaf  
Thymeleaf í…œí”Œë¦¿ì„ í™œìš©í•˜ì—¬ ë‹¤êµ­ì–´ ì²˜ë¦¬ë¥¼ ì§€ì›í•œë‹¤. ê´€ë ¨ ì„¤ì •ì€ application.propertiesì— ì•„ë˜ì˜ ì½”ë“œë¥¼ ì°¸ê³ 
> **<application.properties>**  
> ```
> spring.thymeleaf.suffix=.html
> spring.thymeleaf.mode=HTML
> spring.thymeleaf.cache=false
> spring.thymeleaf.prefix=classpath:/public/template/
> spring.thymeleaf.enabled=true
> spring.thymeleaf.encoding=UTF-8
> ```
  
### 3) ë‹¤êµ­ì–´ message ì ìš©/ì‘ì„±
thymeleaf ì ìš© ì‹œ, ì•„ë˜ì˜ ìƒ˜í”Œì½”ë“œì™€ ê°™ì´ th:text=#{key}ì˜ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•œë‹¤.
> **<sample.html>** 
> ```html
> <!DOCTYPE HTML>
> <html xmlns:th="http://www.thymeleaf.org">
> <head>
> <meta charset="UTF-8">
> <body>
>   ...
>   <div>
>     <span th:text="#{login.welcome-msg}">Some Text</span>
>   </div>
>   ...
>   <!-- nê°œ ì´ìƒì˜ íŒŒë¼ë¯¸í„°ë¥¼ ì ìš©í•  ê²½ìš°, ë©”ì‹œì§€ì— ì¶”ê°€í•  íŒŒë¼ë¯¸í„°ëŠ” ì†Œê´„í˜¸ ì•ˆì— ì‘ì„±í•œë‹¤. -->
>   ...
>   <h4 th:text="#{test.msg1(#{test.first})}"></h4>
>   <h4 th:text="#{test.msg2(#{test.one}, #{test.first})}"></h4>
> </body>
> </html>
> ```
   
   
## 3. [ì ìš©ì˜ˆì œ](http://localhost:8080/sample/sampleI18n) ğŸ”—
   
   
## 4. ì°¸ê³  ì‚¬ì´íŠ¸  
 [YAMLì´ë€?](http://anitoy.pe.kr/yaml-format/)  
 
 [YAML ê°„ëµ ì •ë¦¬](https://m.blog.naver.com/PostView.nhn?blogId=wideeyed&logNo=221090209367&proxyReferer=https%3A%2F%2Fwww.google.com%2F)  
 
 [Spring boot ì„¤ì • íŒŒì¼ yaml ì‚¬ìš©ë²• ](https://jeong-pro.tistory.com/159)  
 
 [YamlResourceBundle](https://github.com/akihyro/yaml-resource-bundle/blob/master/README.md)  
 
 [Spring Boot(Spring) i18n ì„¤ì • ì‹œ ì£¼ì˜ì‚¬í•­](https://blog.hkwon.me/spring-boot-spring-i18n-configuration/)  