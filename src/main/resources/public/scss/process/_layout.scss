@import '../template/_layout.scss';

/* 프로세스 디자이너 팝업 layout
 * process-container - process-header : 상단
 *                   - process-element-palette : 엘리먼트 영역
 *                   - process-main : 프로세스 메인
 *                           - drawing-board : 실제 엘리먼트들이 그려지는 영역
 *                   - process-properties-header : 세부 속성 상단
 *                   - process-properties : 세부 속성
 */

.z-process {
  &-container {
    @include container;
  }
  // header
  &-header {
    @include fixedHeader;
    height: $layout-header-height;
    font-family: $layout-header-font-family;
    font-size: $layout-header-font-size;
    font-weight: $layout-header-font-weight;
    color: $layout-header-font-color;
    background-color: $layout-header-bg-color;
    z-index: $z-index-gnb;

    .i-process-designer {
      width: 12.5rem; // 200px
      padding: 0 $layout-header-padding; // 0 12px
    }

    .z-process-name {
      font-size: $layout-header-font-size;
    }
    .z-process-button-list {
      width: 19.06rem; // 305px

      .z-header-dropdown {
        @include relative();
      }
    }
  }
  // element palette
  &-element-palette {
    @include fixed($layout-header-height, null, 0, 0);
    width: $layout-element-palette-width;
    background-color: $layout-element-palette-bg-color;
    @include border($layout-element-palette-border-width, solid, $layout-element-palette-border-color, right); // 1px
    @include boxShadow(0, 0, 0.125rem, 0, $layout-element-palette-box-shadow-color); // 2px
    overflow: hidden;
  }
  // main
  &-main {
    @include fixedContainer;
    left: $layout-element-palette-width;
    overflow: hidden;

    .z-drawing-board {
      @include absolute($top: 0, $left: 0); // 0 0
      width: 100%;
      height: 100%;
      // 모눈 종이 : 내부 디자인 속성은 _elements.scss 참조
      svg {
        background-color: $drawing-board-bg-color;
        // 선
        g.grid {
          path { display: none; }
          line {
            stroke: $drawing-board-line-color;
            stroke-width: $drawing-board-line-width;
            stroke-opacity: 1;
            shape-rendering: crispEdges;
          }
        }
      }
      // 미니맵
      .z-minimap {
        display: inline-block;
        width: $minimap-width;
        height: $minimap-height;
        @include absolute($right: 3.438rem, $bottom: 0.625rem); // 55px 10px
        background-color: $minimap-bg-color;
        @include border($minimap-border-width, solid, $minimap-border-color, all);
        border-radius: $minimap-border-radius;
        @include boxShadow(0, 0, 0.3125rem, 0, $minimap-box-shadow-color); // 5px
        overflow: hidden;

        svg {
          @include absolute($top: 1.875rem, $left: 1.875rem); // 30px 30px
          background-color: $minimap-inside-bg-color;
          @include border($minimap-border-width, solid, $minimap-border-color, all);
          border-radius: $minimap-border-radius;
          // 미니맵 위치 변경시 표시되는 네모박스
          rect.z-minimap-guide {
            fill: $minimap-guide-bg-color;
            fill-opacity: $minimap-guide-bg-color-opacity;
            stroke-width: 0;
          }
        }
        // 닫음
        &.closed { display: none; }
      }
      // 시뮬레이션
      .z-simulation-report {
        display: block;
        width: $simulation-report-width;
        height: $simulation-report-height;
        @include absolute(0, 0, 0, 0);
        background-color: $simulation-report-bg-color;
        @include border($simulation-report-border-width, solid, $simulation-report-border-color, all);
        border-radius: $simulation-report-border-radius;
        @include boxShadow(0, 0, 0.3125rem, 0, $simulation-report-box-shadow-color); // 5px
        margin: auto;
        overflow: hidden;
        // 제목
        &-title {
          height: 3.375rem; // 54px
          font-size: $simulation-report-title-font-size;
          font-weight: $simulation-report-title-font-weight;
          color: $simulation-report-title-font-color;
          @include border($simulation-report-border-width, solid, $simulation-report-border-color, bottm);
          padding: 1.125rem; // 17px

          .z-icon {
            &i-minus {
              @include absolute($right: 1.125rem); // 17px
              cursor: pointer;
              background: $element-icon-color;
              &:hover {
                background: $element-hover-icon-color;
              }

            }
          }
        }

        &-contents {
          padding: 0.3125rem; // 5px
          // 스크롤 영역
          &-main {
            width: 100%;
            height: 18.44rem; // 295px
            overflow-y: auto;
            // 결과
            .result {
                font-size: $simulation-report-title-font-size;
                font-weight: $simulation-report-title-font-weight;
                margin: 1.25rem 0.938rem; // 20px 15px

                &.success { color: $validation-success-font-color; }
                &.failed { color: $validation-error-font-color; }
            }
            // 내용
            .details {
              font-size: $simulation-report-content-font-size;
              font-weight: $simulation-report-content-font-weight;
              color: $simulation-report-content-font-color;
              margin: 0 0.938rem; // 0 15px

              div {
                margin: 0.625rem 0; // 10px 0
                &.failed { color: $validation-error-font-color; }
              }

              &-result, &-element-info, &-failed-message {
                margin-left: 0.313rem; // 5px
              }
            }
          }
        }
        // 닫음
        &.closed { display: none; }
      }
    }
  }

  // 세부 속성 상단
  &-properties-header {
    @include fixed($top: $layout-header-height, $right: 0);
    width: $layout-properties-width;
    height: $layout-properties-header-height;
    font-size: $layout-properties-header-font-size;
    font-weight: $layout-properties-header-font-weight;
    color: $layout-properties-header-font-color;
    background-color: $layout-properties-header-bg-color;
    @include border($layout-properties-border-width, solid, $layout-properties-border-color, left);
    @include boxShadow(0, 0, 0.125rem, 0, $layout-properties-box-shadow-color); // 2px
    padding: 0.625rem 1.563rem; // 10px 25px;
  }
  // element 속성
  &-properties {
    @include fixed(calc(#{$layout-header-height} + #{$layout-properties-header-height}), 0, 0, null);
    width: $layout-properties-width;
    background-color: $layout-properties-bg-color;
    @include border($layout-properties-border-width, solid, $layout-properties-border-color, left);
    @include boxShadow(0, 0.125rem, 0.125rem, 0, $layout-properties-box-shadow-color); // 2px
    overflow-x: hidden;
    overflow-y: auto;
    @include scrollbarHidden;

    // element 명
    .properties-group-title {
      font-size: $property-group-label-font-size;
      color: $property-group-label-color;
      margin: 1.563rem 1.563rem 0 1.563rem; // 25px 25px 0 25px
    }

    // 세부 속성
    .properties {
      padding:  0.9375rem 1.563rem 0.4375rem 1.563rem; // 15px 25px 7.5px 25px
      // 세부 속성명
      &-title {
        display: inline-block;
        width: 100%;
        font-size: $property-label-font-size;
        color: $property-label-color;
      }
      // 마지막 속성은 선 추가
      &.last {
        padding-bottom: 1.875rem; // 30px
        @include border($layout-properties-border-width, solid, $layout-properties-border-color, bottom);
      }
      // Id
      .copy { width: 81% !important; }
      // script task 파일 추가
      .file-select-group {
        .file {
          width: 81% !important;
          margin-right: 0.3125rem; // 5px;
        }
      }
      // assinee 등록
      .candidate-table,
      .script-data {
        margin-top: 0.9375rem; // 15px
        button { padding: 0; }
        tr {
          th, td {
            text-align: center;
            vertical-align: middle;
            border-color: $element-border-color;
            padding: 0 0.625rem; // 0 10px
          }
        }
      }
    }
    // connector 세부 속성
    fieldset {
      padding:  0 1.563rem; // 0 25px
      legend, .properties { padding:  0.9375rem 0 0.4375rem 0; } // 15px 0 7.5px 0
      .properties:last-child {
        padding-bottom: 1.875rem; // 30px
        @include border($layout-properties-border-width, solid, $layout-properties-border-color, bottom);
      }
      &[name="condition"] {
        @include border($layout-properties-border-width, solid, $layout-properties-border-color, bottom);
        .properties:last-child { border: none; }
      }
    }

    //프로세스 개요
    .process-info-main {
      margin: 1.25rem 1.563rem; // 20px 25px
      .process-info-title {
        font-size: $property-group-label-font-size;
        color: $property-group-label-color;
      }
      // 엘리먼트 갯수
      .process-info-dashboard {
        margin-top: 1.25rem; // 20px
        .total {
          color: $property-label-color;
          padding: 0 0 0.625rem 0; // 0 0 10px 0
          margin: 0;
          @include border(calc(#{$layout-properties-border-width} * 2), solid, $layout-properties-border-color, bottom);
        }
        table tr td {
            padding: 0.625rem; // 10px 들여쓰기
        }
      }
    }
  }
}
