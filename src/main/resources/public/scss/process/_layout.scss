@import '../template/_layout.scss';

/* 프로세스 디자이너 팝업 layout
 * process-container - process-header : 상단
 *                   - process-element-palette : 엘리먼트 영역
 *                   - process-main : 프로세스 메인
 *                           - drawing-board : 실제 엘리먼트들이 그려지는 영역
 *                   - process-properties-header : 세부 속성 상단
 *                   - process-properties : 세부 속성
 */

.#{$common-prefix}process {
  &-container {
    @include container;
  }
  // header
  &-header {
    @include fixedHeader;
    font-size: $layout-header-font-size;
    font-weight: $layout-header-font-weight;
    color: $layout-header-font-color;
    background-color: $layout-header-bg-color;
    padding: 0 1.25rem; // 0 20px
    z-index: $z-index-gnb;
    // process designer 문구
    .name {
      font-size: 1.125rem; // 18px
      padding: 0 0.9375rem; // 15px
    }
    // 아이콘 구분자
    .separator {
      width: 0.063rem; // 1px
      height: 1.25rem; // 20px
      background-color: #4DB7FF;
    }
  }
  // element palette
  &-element-palette {
    @include fixed($layout-header-height, null, 0, 0);
    width: $layout-element-palette-width;
    background-color: $layout-element-palette-bg-color;
    @include border($layout-element-palette-border-width, solid, $layout-element-palette-border-color, right); // 1px
    @include boxShadow(0, 0, 0.125rem, 0, $layout-element-palette-box-shadow-color); // 2px
    overflow: hidden;
  }
  // main
  &-main {
    @include fixedContainer;
    left: $layout-element-palette-width;
    overflow: hidden;

    .#{$common-prefix}drawing-board {
      @include absolute($top: 0, $left: 0); // 0 0
      width: 100%;
      height: 100%;
      // 모눈 종이 : 내부 디자인 속성은 _elements.scss 참조
      svg {
        background-color: $drawing-board-bg-color;
        // 선
        g.grid {
          path { display: none; }
          line {
            stroke: $drawing-board-line-color;
            stroke-width: $drawing-board-line-width;
            stroke-opacity: 1;
            shape-rendering: crispEdges;
          }
        }
      }
      // 미니맵
      .minimap {
        display: inline-block;
        width: $minimap-width;
        height: $minimap-height;
        position: absolute;
        bottom: 0.625rem; // 10px
        right: 3.438rem; // 55px
        background-color: $minimap-bg-color;
        border: $minimap-border;
        border-radius: $minimap-border-radius;
        box-shadow: $minimap-box-shadow;
        overflow: hidden;

        svg {
            position: absolute;
            top: 1.875rem; // 30px
            left: 1.875rem; // 30px
            background-color: $minimap-inside-bg-color;
            border: $minimap-border;
            border-radius: $minimap-border-radius;
            // 미니맵 위치 변경시 표시되는 네모박스
            rect.minimap-guide {
                fill: $minimap-guide-bg-color;
                fill-opacity: $minimap-guide-bg-color-opacity;
                stroke-width: 0;
            }
        }
        // 닫음
        &.closed { display: none; }
      }
      // 시뮬레이션
      .simulation-report {
        display: block;
        width: $simulation-report-width;
        height: $simulation-report-height;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: $simulation-report-bg-color;
        border: $simulation-report-border;
        border-radius: $simulation-report-border-radius;
        box-shadow: $simulation-report-box-shadow;
        margin: auto;
        overflow: hidden;
        // 제목
        &-title {
          height: 3.375rem; // 54px
          font-size: $simulation-report-title-font-size;
          font-weight: $simulation-report-title-font-weight;
          color: $simulation-report-title-font-color;
          border-bottom: $simulation-report-border;
          padding: 1.125rem; // 17px

          .icon-minus {
            position: absolute;
            display: inline-block;
            right: 1.125rem; // 17px
            cursor: pointer;
            @include maskImage('#{$icon-folder-path}icon_minus.svg', 1rem, 1.5rem, no-repeat, center, null, map-get($grays, "pressed")); // 16px 24px
            // mouse over
            &:hover {
              background: $blue;
            }
          }
        }

        &-contents {
          padding: 0.3125rem; // 5px
          // 스크롤 영역
          &-main {
            width: 100%;
            height: 18.44rem; // 295px
            overflow-y: auto;
            // 결과
            .result {
                font-size: $simulation-report-title-font-size;
                font-weight: $simulation-report-title-font-weight;
                margin: 1.25rem 0.938rem; // 20px 15px

                &.success { color: $green; }
                &.failed { color: $red; }
            }
            // 내용
            .details {
              font-size: $simulation-report-content-font-size;
              font-weight: $simulation-report-content-font-weight;
              color: $simulation-report-content-font-color;
              margin: 0 0.938rem; // 0 15px

              div {
                margin: 0.625rem 0; // 10px 0
                &.failed { color: $red; }
              }

              &-result, &-element-info, &-failed-message {
                margin-left: 0.313rem; // 5px
              }
            }
          }
        }
        // 닫음
        &.closed { display: none; }
      }
    }
  }

  // 세부 속성 상단
  &-properties-header {
    position:fixed;
    top: $layout-header-height;
    right: 0;
    width: $layout-properties-width;
    height: $layout-properties-header-height;
    font-size: $layout-properties-header-font-size;
    font-weight: $layout-properties-header-font-weight;
    color: $layout-properties-header-font-color;
    background-color: $layout-properties-header-bg-color;
    padding: 0.625rem 1.563rem; // 10px 25px;
  }
  // element 속성
  &-properties {
    @include fixed(calc(#{$layout-header-height} + #{$layout-properties-header-height}), 0, 0, null);
    width: $layout-properties-width;
    background-color: $layout-properties-bg-color;
    border-left: $layout-properties-border;
    box-shadow: $layout-properties-box-shadow;
    overflow-x: hidden;
    overflow-y: auto;
    @include scrollbarHidden;

    // element 명
    .properties-group-title {
      color: map-get($blues, "hover");
      margin: 1.563rem 1.563rem 0 1.563rem; // 25px 25px 0 25px
    }

    // 세부 속성
    .properties {
      padding:  0.9375rem 1.563rem 0.4375rem 1.563rem; // 15px 25px 7.5px 25px
      // 세부 속성명
      &-title {
        display: inline-block;
        width: 100%;
        font-size: $properties-title-font-size;
        font-weight: $properties-title-font-weight;
        color: $properties-title-font-color;
        margin-bottom: 0.625rem; // 10px
      }
      // 마지막 속성은 선 추가
      &.last {
        padding-bottom: 1.875rem; // 30px
        border-bottom: $layout-properties-border;
      }
      // Id
      .copy { width: 81% !important; }
      // script task 파일 추가
      .file-select-group {
        .file {
          width: 81% !important;
          margin-right: 5px; // 5px;
        }
      }
      // assinee 등록
      .candidate-table,
      .script-data {
        margin-top: 15px; // 15px
        button { padding: 0; }
        tr {
          th, td {
            text-align: center;
            vertical-align: middle;
            border-color: $table-border-color;
            padding: 0 0.625rem; // 0 10px
          }
        }
      }
    }
    // connector 세부 속성
    fieldset {
      padding:  0 1.563rem; // 0 25px
      legend, .properties { padding:  0.9375rem 0 0.4375rem 0; } // 15px 0 7.5px 0
      .properties:last-child {
        padding-bottom: 1.875rem; // 30px
        border-bottom: $layout-properties-border;
      }
      &[name="condition"] {
        border-bottom: $layout-properties-border;
        .properties:last-child { border: none; }
      }
    }

    //프로세스 개요
    .process-info-main {
      margin: 1.25rem 1.563rem; // 20px 25px
      .process-info-title { color: map-get($blues, "hover"); }
      // 엘리먼트 갯수
      .process-info-dashboard {
        margin-top: 1.25rem; // 20px
        .total {
          color: map-get($blacks, "light");
          padding: 0 0 0.625rem 0; // 0 0 10px 0
          margin: 0;
          border-bottom: 0.125rem solid map-get($grays, "line");
        }
        table tr td {
            padding: 0.625rem; // 10px 들여쓰기
        }
      }
    }
  }
}
