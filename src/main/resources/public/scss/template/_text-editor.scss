/* _text-editor.scss 
 *
 * 파일 경로 : template/_text-editor.scss
 * @description Customize Quill Editor v1.3.6 (https://quilljs.com/)
 * @author wdj
 * @version 1.0
 */
.ql-toolbar {
  & *:focus {
    outline: none !important;
  }
  &.ql-snow {
    font-family: $font-family;
    @include border($text-editor-border-width, solid, $text-editor-border-color, all);
    background-color: $text-editor-bg-color;
    padding: 0;

    .ql-formats {
      margin: 0;
      padding: 0;
      // picker inside item common
      .ql-picker-label,
      .ql-picker-item {
        font-size:  $text-editor-toolbar-font-size;
        font-weight:  $text-editor-toolbar-font-weight;
        color: $text-editor-toolbar-font-color;

        &.ql-active {
          color: $text-editor-toolbar-hover-font-color;
        }
      }
      // headings
      .ql-header {
        width: 7.5rem; // 120px
        height: 2.5rem; // 40px

        .ql-picker-label,
        .ql-picker-item {
          padding: 0.4375rem 0.75rem; // 7px 12px
          // 화살표 아이콘
          &:not(.ql-color-picker):not(.ql-icon-picker) svg {
            margin: auto;
            right: 4%;
            top: 40%;
          }

          &:hover,
          &:focus {
            color:  $text-editor-toolbar-hover-font-color;
            background-color: $text-editor-toolbar-hover-bg-color;
          }
        }

        .ql-picker-options {
          padding: 0;
          @include boxShadow(0, 0, 0.3125rem, 0, map-get($grays, 'line'));
          // 상대 크기
          .ql-picker-item[data-value="1"]::before { font-size: 2em; }
          .ql-picker-item[data-value="2"]::before { font-size: 1.5em; }
          .ql-picker-item[data-value="3"]::before { font-size: 1.17em; }
          .ql-picker-item[data-value="4"]::before { font-size: 0.83em; }
        }

        &.ql-expanded {
          .ql-picker-label {
            border-color: transparent;
            color: $text-editor-toolbar-hover-font-color;
            background-color:  $text-editor-toolbar-hover-bg-color;

            // 화살표 회전
            svg {
              @include rotate(180);
              @include transformOrigin(50% 50%);
            }
          }

          .ql-picker-options {
            margin-left: -0.0625rem; // -1px
            border-color:  $text-editor-border-color;

            // 선택된 item
            .ql-picker-item {
              &.ql-selected {
                color:  $text-editor-toolbar-selected-font-color;
              }
            }
          }
        }
      }
      // color picker
      .ql-color-picker { 
        width: 2.813rem; // 45px
        height: 2.5rem; // 40px

        .ql-picker-label {
          padding: 0.5625rem 0.6875rem; // 9px 11px
          svg {
            .ql-transparent { opacity: 1; }
            .ql-label,
            .bg-line { fill: $text-editor-toolbar-font-color; }
            .bg { fill: $text-editor-bg-color; }
          }

          &.ql-active[data-value]:not([data-value='']) svg .ql-label {
            fill: $white;
          }
          &:hover,
          &:focus {
            color:  $text-editor-toolbar-hover-font-color;
            background-color: $text-editor-toolbar-hover-bg-color;
          }
        }

        .ql-picker-item {
          &:hover,
          &:focus {
            color:  $text-editor-toolbar-hover-font-color;
            border-color: $text-editor-toolbar-selected-font-color;
          }
        }

        .ql-picker-options {
          @include boxShadow(0, 0, 0.3125rem, 0, map-get($grays, 'line'));
        }

        &.ql-expanded {
          .ql-picker-label {
            border-color: transparent;
            color: $text-editor-toolbar-hover-font-color;
            background-color: $text-editor-toolbar-hover-bg-color;
          }
          .ql-picker-options {
            border-color: $text-editor-bg-color;

            .ql-picker-item {
                &.ql-selected {
                    border-color: $text-editor-toolbar-selected-font-color;
                }
            }
          }
        }
      }
      // align
      .ql-icon-picker {
        width: 3.75rem; // 60px
        height: 2.5rem; // 40px

        .ql-picker-label {
          width: 3.75rem; // 60px
          height: 2.5rem; // 40px
          padding: 0.5625rem 0.6875rem; // 9px 11px

          .ql-icon-arrow {
            fill-opacity: 1;
            @include translate(178px, -341px);
          }

          &:hover,
          &:focus {
            color: $text-editor-toolbar-hover-font-color;
            background-color: $text-editor-toolbar-hover-bg-color;
          }
        }

        .ql-picker-item {
          width: 2.813rem; // 45px
          height: 2.5rem; // 40px
          padding: 0.5625rem 0.6875rem; // 9px 11px

          &:hover,
          &:focus {
            color: $text-editor-toolbar-hover-font-color;
            background-color: $text-editor-toolbar-hover-bg-color;
          }
        }

        .ql-picker-options {
          min-width: 2.813rem; // 45px
          @include boxShadow(0, 0, 0.3125rem, 0, map-get($grays, 'line'));
          padding: 0;
          .ql-icon-arrow {
            fill-opacity: 0;
          }
        }

        &.ql-expanded {
          .ql-picker-label {
            border-color: transparent;
            color: $text-editor-toolbar-hover-font-color;
            background-color: $text-editor-toolbar-hover-bg-color;

            // 화살표 회전
            .ql-icon-arrow {
              fill-opacity: 1;
              @include transform(translate(568px, 439px) rotate(180deg));
            }
          }
          .ql-picker-options {
            margin-left: -0.0625rem; // -1px
            border-color: $text-editor-border-color;
            .ql-picker-item {
              &.ql-selected svg {
                fill: $text-editor-toolbar-selected-font-color;
              }
              .ql-icon-arrow {
                fill-opacity: 0;
              }
            }
          }
        }
      }
      // bold, underline, italic
      button {
        width: 2.813rem; // 45px
        height: 2.5rem; // 40px
        padding: 0;
        margin: 0;
        @include borderRadius(0);

        svg { float: initial; }

        &:hover,
        &:focus,
        &.ql-active {
            color: $text-editor-toolbar-hover-font-color;
            background-color: $text-editor-toolbar-hover-bg-color;
        }
      }
    }
  }
}
.ql-container {
  &.ql-snow {
    font-family: $font-family;
    font-size:  $text-editor-font-size;
    font-weight:  $text-editor-font-weight;
    line-height: $text-editor-line-height;
    color: $text-editor-font-color;
    @include border($text-editor-border-width, solid, $text-editor-border-color, all);
    background-color: $text-editor-bg-color;
    .ql-editor {
      padding: 0.625rem; // 10px
      // 내부 태그 재정의
      .ql-blank::before { content: attr(data-placeholder); }
      h1, h2, h3, h4, h5, h6 { line-height: 1.2; }
      em { font-style: italic; }
      strong { font-weight: bold; }
    }
  }

  &.ql-border-disabled {
    border-color: transparent;
  }
}