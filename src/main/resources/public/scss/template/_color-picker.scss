/* _color-picker.scss 
 *
 * 파일 경로 : template/_color-picker.scss
 * @description 컬러 피커 디자인
 * @author jy.lim
 * @version 1.0
 */

:root {
  --data-color: '';
}
// custom color palette
$custom-color-plus: (
  'default': ('font': $gray500, 'background': $white, 'border': $gray300),
  'hover': ('font' : $gray500, 'background': $blue100, 'border': $gray300),
  'focus': ('font': $gray500, 'background': $white, 'border': $blue600, 'shadow': 0 0 0.125rem $blue600),
  'active': ('font': $blue700, 'background': $blue200, 'border': $blue400)
);

.z-color-picker-wrapper {
  font-family: $font-family;
  font-size: $font-size-xs;
  font-weight: $font-weight-bold;
  color: $gray500;

  .z-color-input {
    display: none;
  }
  // color picker
  .z-color-picker {
    width: 7.5rem; // 120px
    padding: 0.3125rem; // 5px
    @include border(0.0625rem, solid, $gray300, all); // 1px
    @include borderRadius(0.125rem); // 2px
    box-shadow: none;
    cursor: pointer;
    outline: none;

    .z-color-box {
      display: inline-block;
      width: 4.75rem; // 76px
      height: 1.5rem; // 24px
      @include borderRadius(0.0625rem);
      @include border(0.25rem, solid, transparent, all); // 4px
    }
    .z-icon {
      &.i-color-palette {
        background: $gray500;
      }
    }

    &:focus,
    &:hover {
      outline: 0;
    }

    &:hover:not(.readonly) {
      border-color: $blue400;
    }

    &:focus:not(.readonly) {
      border-color: $blue600;
      @include boxShadow(0, 0, 0.125rem, 0, $blue600); // 0 0 2px 0
    }
  }
  // 모달
  .z-color-picker-modal {
    display: none;
    @include fixed();
    min-width: 23.5rem; // 376px
    @include border(0.0625rem, solid, $gray300, all); // 1px
    @include borderRadius(0.125rem); // 2px
    @include boxShadow(0, 0.125rem, 0.75rem, 0, $gray300); // 0 2px 12px 0
    background-color: $white;
    z-index: 1000;
    // modal open
    &.active {
      display: block;
      z-index: 1000;
    }
    // color palette
    .z-palette-container {
      min-height: 12.5rem; // 200px
      padding:  0.75rem; // 12px

      .z-palette-row {
        display: flex;
        flex-direction: row;
        justify-content: space-between;

        &:first-child {
          margin-bottom: 0.5rem; // 8px
        }
        // color palette item
        .z-palette-item {
          display: flex;
          flex-direction: row;
          justify-content: center;
          align-items: center;
          width: 1.75rem; // 28px;
          height: 1.75rem; // 28px;
          @include borderRadius(0.125rem);
          cursor: pointer;

          &.material-color:not(.first) {
            border-top-left-radius: 0;
            border-top-right-radius: 0;
          }
          &.material-color:not(.last) {
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
          }
          // 하얀 색상은 테두리를 표기함
          &.border-inset {
            @include boxShadow(0, 0, 0, 0.0625rem, $gray300, true);
          }

          .z-palette-item-inner {
            width: 1.25rem; // 20px
            height: 1.25rem; // 20px
            @include borderRadius(0.0625rem);
            pointer-events: none;
          }

          &.selected {
            @include boxShadow(0, 0, 0, 0.0625rem, $blue500, true);
          }
        }
      }
    }
    // 사용자 색상
    .z-custom-color-palette-container {
      @include relative();
      min-height: 4.875rem; // 78px
      padding:  0.75rem; // 12px
      @include border(0.0625rem, solid, $gray300, top); // 1px

      // 편집 버튼
      .z-custom-color-edit {
        @include absolute($top: 0.125rem, $right: 0.75rem); // 2px 12px
        visibility: hidden;
        &.on {
          visibility: visible;
        }
      }

      // 사용자 색상 목록 영역
      .z-custom-color-list {
        display: flex;
        flex-direction: row;
        margin: 0.75rem 0 0.5rem 0; // 12px 0 8px 0

        > *:not(:first-child) {
            margin: 0 0 0 8px; // 0 0 0 8px
        }


        // custom color palette item
        .z-custom-color-palette-item {
          @include relative();
          display: flex;
          flex-direction: row;
          justify-content: center;
          align-items: center;
          width: 1.75rem; // 28px;
          height: 1.75rem; // 28px;
          @include borderRadius(0.125rem);

          cursor: pointer;

          .z-custom-color-palette-item-inner {
            width: 1.25rem; // 20px
            height: 1.25rem; // 20px
            @include borderRadius(0.0625rem);
            pointer-events: none;
          }

          // X 버튼
          .z-custom-color-palette-item-clear {
            width: 1rem; // 16px
            height: 1rem; // 16px
            line-height: 0.3125rem; // 5px
            @include absolute($top: -0.25rem,$right: -0.25rem); // -4px -4px
            @include borderRadius(50%);
            background-color: $red500;
            padding: 0;
            visibility: hidden;

            .z-icon {
              &.i-remove {
                width: 0.5rem; // 8px
                height: 0.5rem; // 8px
                background: $white;
                pointer-events: none;
              }
            }
          }

         &.selected {
            @include boxShadow(0, 0, 0, 0.0625rem, $blue500, true);
          }
        }

        // [+] 버튼
        .z-custom-color-plus {
          display: none;
          width: 1.75rem; // 28px;
          height: 1.75rem; // 28px;
          background-color: map-get($custom-color-plus, 'default', 'background');
          @include border(0.0625rem, solid, map-get($custom-color-plus, 'default', 'border'), all);
          @include borderRadius(0.125rem); // 2px
          @if map-get($custom-color-plus, 'default', 'shadow') != null {
            box-shadow: map-get($custom-color-plus, 'default', 'shadow');
          }
          padding: 0 0.0625rem; // 0px 1px

          .z-icon {
            &.i-plus {
              width: 0.625rem; // 10px
              height: 0.625rem; // 10px
              background: map-get($custom-color-plus, 'default', 'font');
            }
          }

          &:focus {
            background-color: map-get($custom-color-plus, 'focus', 'background');
            border-color: map-get($custom-color-plus, 'focus', 'border');
            @if map-get($custom-color-plus, 'focus', 'shadow') != null {
              box-shadow: map-get($custom-color-plus, 'focus', 'shadow');
            }
            .z-icon {
              &.i-plus {
                background: map-get($custom-color-plus, 'focus', 'font');
              }
            }
          }

          &:hover {
            background-color: map-get($custom-color-plus, 'hover', 'background');
            border-color: map-get($custom-color-plus, 'hover', 'border');
            @if map-get($custom-color-plus, 'hover', 'shadow') != null {
              box-shadow: map-get($custom-color-plus, 'hover', 'shadow');
            }
            .z-icon {
              &.i-plus {
                background: map-get($custom-color-plus, 'hover', 'font');
              }
            }
          }

          &:enabled:active,
          &:enabled.active {
            background-color: map-get($custom-color-plus, 'active', 'background');
            border-color: map-get($custom-color-plus, 'active', 'border');
            @if map-get($custom-color-plus, 'active', 'shadow') != null {
              box-shadow: map-get($custom-color-plus, 'active', 'shadow');
            }
            .z-icon {
              &.i-plus {
                background: map-get($custom-color-plus, 'active', 'font');
              }
            }
          }

          &.on {
            display: inline-block;
          }
        }

        // 편집 가능시 사용자 색상 삭제 버튼 show
        &.editable {
          .z-custom-color-palette-item {
            // X 버튼
            .z-custom-color-palette-item-clear {
              visibility: visible;
            }
          }
        }
      }

      // 물방울, hex, rgb, 추가 버튼 영역
      .z-custom-color-control-container {
        display: none;
        // control open
        &.active {
          display: block;
        }

        .z-custom-color-control {
          display: grid;
          grid-template-columns:  1.75rem 5rem 3rem 3rem 3rem 3.75rem; // 28px 80px 48px 48px 48px 60px
          grid-template-rows: 2.25rem 2.25rem; // 36px 36px
          gap: 0 0.5rem; // 0 8px
          font-weight: $font-weight-medium;

          // 물방울 아이콘
          .z-icon {
            &.i-water-drop {
              .water-drop-outer { fill-opacity: 1; }
              .water-drop-inner { fill-opacity: 0; }
              &.on {
                .water-drop-outer { fill-opacity: 0; }
                .water-drop-inner {
                  fill: var(--data-color, $gray500);
                  fill-opacity: 1;
                }
              }
            }
          }

          .z-input {
            padding: 0 0.5rem; // 0 8px
          }

          // 문구
          .z-color-text {
            text-align: center;
          }
        }

       .z-button-list {
          width: 100%;
          text-align: right;
        }
      }
    }
  }
}