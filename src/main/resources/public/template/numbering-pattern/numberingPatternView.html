<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/itsm/pageType/commonViewLayout}">
<head>
    <title th:text="#{pattern.label.pattern}"></title>
</head>
<body>
<div layout:fragment="pageTitle">
    <h1 th:text="#{pattern.label.pattern}"></h1>
    <h6 class="description ml-2 pl-2" th:text="#{pattern.msg.editDescription}"></h6>
</div>
<div layout:fragment="pageView">
    <div class="z-view-row flex-column">
        <label th:text="#{pattern.label.name}" for="txtPatternName"></label>
        <input type="text" class="z-input" id="txtPatternName" name="txtPatternName"
               th:value="${pattern?.patternName}" disabled />
    </div>
    <div class="z-view-row flex-column">
        <label th:text="#{pattern.label.type}" class="required"></label>
        <div class="flex-row mr-auto">
            <label class="z-radio mr-4">
                <input id="numbering.pattern.text" name="patternType" type="radio"
                       th:checked="${pattern?.patternType == 'numbering.pattern.text'}" disabled>
                <span></span>
                <span class="z-label" th:text="#{pattern.type.text}"></span>
            </label>
            <label class="z-radio mr-4">
                <input id="numbering.pattern.date" name="patternType" type="radio"
                       th:checked="${pattern?.patternType == 'numbering.pattern.date'}" disabled>
                <span></span>
                <span class="z-label" th:text="#{pattern.type.date}"></span>
            </label>
            <label class="z-radio">
                <input id="numbering.pattern.sequence" name="patternType" type="radio"
                       th:checked="${pattern?.patternType == 'numbering.pattern.sequence'}" disabled>
                <span></span>
                <span class="z-label" th:text="#{pattern.type.sequence}"></span>
            </label>
        </div>
    </div>
    <div id="type-input-pattern" class="z-view-row flex-column">
        <label th:text="#{pattern.label.value}"></label>
        <input type="text" class="z-input" id="txtPatternValue" name="txtPatternValue"
               th:value="${pattern?.patternValue}" disabled/>
    </div>
    <div id="type-select-pattern" class="z-edit-row flex-column">
        <label th:text="#{pattern.label.value}" class="required"></label>
        <select id="selectPatternDateValue" name="selectPatternDateValue" class="select-date-time mr-1" disabled>
            <option th:each="date: ${dateList}" th:value="${date.code}"
                    th:text="${date.codeValue}" th:selected="${date.codeValue == pattern?.patternValue}"></option>
        </select>
    </div>
    <div class="flex-row justify-content-start">
        <div class="z-button-list">
            <div class="z-button-list">
                <a class="z-button secondary" href="/numberingPatterns/search" th:text="#{common.btn.list}"></a>
            </div>
        </div>
    </div>
</div>
</body>
<script layout:fragment="pageScript" type="text/javascript" th:inline="javascript">
    /*<![CDATA[*/
    window.onload = function () {
        OverlayScrollbars(document.querySelector('.numbering-pattern-content-edit'), {className: 'scrollbar'});
    };

    /** 라디오 버튼 변경에 따른 패턴 값 입력 엘리먼트 화면 출력 변경 함수**/
    function changePatternValueInput(type) {
        document.getElementById('txtPatternValue').value = '';
        if (type === 'numbering.pattern.text') {
            document.getElementById('type-input-pattern').style.display = '';
            document.getElementById('type-select-pattern').style.display = 'none';
            document.getElementById('txtPatternValue').removeEventListener('keydown', onlyNumber);
            document.getElementById('txtPatternValue').removeEventListener('keyup', aliceJs.removeChar);
        } else if (type === 'numbering.pattern.sequence') {
            document.getElementById('type-input-pattern').style.display = '';
            document.getElementById('type-select-pattern').style.display = 'none';
            document.getElementById('txtPatternValue').addEventListener('keydown', onlyNumber);
            document.getElementById('txtPatternValue').addEventListener('keyup', aliceJs.removeChar);
        } else {
            document.querySelector('.z-select-box').textContent = document.querySelector('.z-select-options').firstElementChild.textContent;
            document.getElementById('selectPatternDateValue')[0].selected = true;
            document.getElementById('type-input-pattern').style.display = 'none';
            document.getElementById('type-select-pattern').style.display = '';
        }
    }
    /*]]>*/
</script>
</html>
