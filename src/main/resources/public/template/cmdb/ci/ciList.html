<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
<div class="grid" th:style="'--data-columns-width:' + ${#strings.arrayJoin(ciData.columnWidth,' ')}">
    <div class="grid__head">
        <div class="grid__row">
            <th:block th:each="title,status: ${ciData.columnTitle}">
                <div class="grid__cell" th:classappend="${status.index != 0} ? 'pl-2' : ''"
                     th:data-grid-column="${ciData.columnName[status.index]}"
                     th:data-grid-sortable="${(ciData.columnType[status.index] != 'icon' and ciData.columnType[status.index] != 'hidden') ? 'true' : 'false'}">
                    <span class="text-ellipsis" th:text="${title}"></span>
                </div>
            </th:block>
        </div>
    </div>
    <div class="grid__body">
        <div class="grid__row grid--noData" th:if="!${#maps.containsKey(ciData.contents, '0')}">
            <div class="grid__cell"><span th:text="#{common.msg.noData}"></span></div>
        </div>
        <div class="grid__row" th:unless="!${#maps.containsKey(ciData.contents, '0')}" th:each="ci: ${ciData.contents}"
             th:onclick="openCIDetailModal(this);">
            <th:block th:each="text,status: ${ci.value}">
                <div class="grid__cell" th:classappend="${status.index != 0} ? 'pl-2' : ''">
                    <img class="z-img" th:if="${ciData.columnType[status.index] == 'icon'}" th:src="${text}" width="20" height="20">
                    <input type="hidden" th:if="${ciData.columnType[status.index] == 'hidden'}" th:id="${ciData.columnName[status.index]}" th:value="${text}">
                    <span class="text-ellipsis" th:if="${ciData.columnType[status.index] == 'string'}" th:text="${text}" th:title="${text}"></span>
                    <th:block th:if="${ciData.columnType[status.index] == 'dateTime' || ciData.columnType[status.index] == 'time' || ciData.columnType[status.index] == 'date'}">
                        <span class="text-ellipsis" th:classappend="${ciData.columnType[status.index]}" th:text="${text}" th:title="${text}"></span>
                    </th:block>
                </div>
            </th:block>
        </div>
    </div>
</div>
<th:block th:replace="layout/itsm/fragment/totalCountFragment :: totalCountDataFragment"></th:block>
</body>
</html>
