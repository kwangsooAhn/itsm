<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
		xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
	<div class="menu">
		<div class="gnb">
			<ul>
				<li th:each="topMenu : ${#authentication.details.menus}"
						th:order-data="${topMenu.sort}" th:if="${topMenu.pMenuId} == 'menu' and ${topMenu.useYn} == true">
					<!--/* 그룹 메뉴 */-->
					<a th:if="${#strings.isEmpty(topMenu.url)}" th:class="${topMenu.menuId}" onclick="accordionMenu(this);">
						<img th:src="@{/assets/theme/{theme}/icons/(theme=${#authentication.details.theme})} + 'icon_gnb_' + ${topMenu.menuId} + '.svg'">
						<span th:text="#{|menu.${topMenu.menuId}.parent|}"></span>
						<span class="arrow-left"></span>
					</a>
					<ul th:if="${#strings.isEmpty(topMenu.url)}" th:id="${topMenu.menuId}" class="snb-set">
						<li th:each="subMenu : ${#authentication.details.menus}"
							th:order-data="${subMenu.sort}" th:if="${subMenu.pMenuId} == ${topMenu.menuId} and ${subMenu.useYn} == true">
							<a th:href="${subMenu.url}"  th:class="'snb ' + ${#strings.substringAfter(subMenu.menuId,'.')}" onclick="showProgressBar()">
								<span th:text="#{|menu.${subMenu.menuId}|}"></span>
							</a>
						</li>
					</ul>
					<!--/* 연결 메뉴 */-->
					<a th:unless="${#strings.isEmpty(topMenu.url)}" th:href="${topMenu.url}" th:class="${topMenu.menuId}">
						<img th:src="@{/assets/theme/{theme}/icons/(theme=${#authentication.details.theme})} + 'icon_gnb_' + ${topMenu.menuId} + '.svg'">
						<span th:text="#{|menu.${topMenu.menuId}.parent|}"></span>
					</a>
				</li>
			</ul>
		</div>
	</div>
</body>
<script type="text/javascript" th:inline="javascript">
	window.onload = function() {
		document.getElementById('config').style.display='none';
		document.getElementById('workflow').style.display='none';
	};

	function accordionMenu(element) {
		if (element.className === 'config' || element.className === 'workflow') {
			document.getElementById('config').style.display='none';
			document.getElementById('workflow').style.display='none';
			for (var i = 0; i < element.parentNode.childNodes.length; i++) {
				if (element.parentNode.childNodes[i].id === element.className) {
					if (element.parentNode.childNodes[i].value === 'block') {
						element.parentNode.childNodes[i].style.display = 'none';
						element.parentNode.childNodes[i].value = 'none';
					} else {
						element.parentNode.childNodes[i].style.display = 'block';
						element.parentNode.childNodes[i].value = 'block';
					}
				}
			}
		}
	}
</script>
</html>
