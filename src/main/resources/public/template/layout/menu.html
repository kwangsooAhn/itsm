<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>Insert title here</title>
    </head>
    <body>
        <div>
            <ul id="menus"></ul>
            <form id="logoutForm" name="logoutForm" th:action="@{/logout}" method="post">
                <a href="javascript:logout()" th:text="#{common.btn.logout}">로그아웃</a>
            </form>
        </div>

        <div style="border: 1px solid red"></div>
        <div>샘플 테스트용 메뉴 입니다</div>
        <div>
            <a href="/notices/search">공지사항</a>
            <a href="/faqs/search">FAQ</a>
            <a href="/roles/edit">역할 CRUD</a>
            <a href="/process/list">프로세스목록</a>
            <a href="/document/list">문서양식 목록</a>
            <a href="/exception/list">예외처리</a>
            <a href="/files">파일업로드</a>
        </div>
        <div style="border: 1px solid red"></div>
    </body>
    <script type="text/javascript" th:inline="javascript">
        /*<![CDATA[*/
        /*[# th:each="menu : ${#authentication.details.menus}"]*/
        /*[# th:unless="${#lists.isEmpty(menu.url)}"]*/
        var menuUrl = /*[[${menu.url}]]*/'메뉴경로';
        var menuName = /*[[#{|menu.${menu.menuId}|}]]*/'메뉴명';
        var parentMenuId = /*[[${menu.pMenuId}]]*/'부모메뉴아이디';
        var menuId = /*[[${menu.menuId}]]*/'메뉴아이디';

        var goToMenu = document.createElement('a');
        goToMenu.href = menuUrl;
        goToMenu.innerText = menuName;

        var menuItem = document.createElement('li');
        menuItem.appendChild(goToMenu);

        document.getElementById('menus').appendChild(menuItem);
        /*[/]*/
        /*[/]*/
        /*]]>*/

        function logout() {
            document.getElementById("logoutForm").submit();
        }
    </script>
</html>
