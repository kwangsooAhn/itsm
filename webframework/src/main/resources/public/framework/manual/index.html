<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>Brainzsquare Web Framework</title>
<script src="../vendor/jquery-3.4.0/jquery-3.4.0.min.js" ></script>
<script src="../vendor/markedjs/marked.js"></script>
<link rel="stylesheet" href="../vendor/highlight/styles/androidstudio.css">
<script src="../vendor/highlight/highlight.pack.js"></script>
<style>@import url('https://fonts.googleapis.com/css?family=Roboto&display=swap');</style>
<script>hljs.initHighlightingOnLoad();</script>
<style>
/* 화면 구조 */
#manualList {
    position: fixed;
    top: 0px;
    left: 0px;  
    float: left;
    width: 250px;
    height: 100%;
    padding: 69px 10px 0px 0px;
    border-right: 1px solid #000;
}    
#content {
    position: relative;
    margin: 60px 0px 0px 300px;
    width: auto;
    overflow:auto;
}
body {
    font-family: 'Roboto', sans-serif;
    height: 100%;
}
li {
    padding: 10px 0px 0px 0px;
}
pre code {
    font: normal 10pt Consolas, Monaco, monospace;
}
</style>
</head>
<script>
$(document).ready(function() {
    
    // markedjs와 highlightjs를 같이 쓸려고 할때 문제가 되는 2가지. 새창에서 링크열기와 CSS 제대로 안먹는 문제를 위해
    // 별도의 custom renderer 작성
    const renderer = new marked.Renderer();
    renderer.link = function (href, title, text) {
        return `<a target="_blank" href="${href}">${text}` + '</a>';  
    }; 
    renderer.code = function (code, lang) {
        var highlighted = hljs.highlightAuto(code).value;
        return `<pre><code class="hljs ${lang}">${highlighted}</code></pre>`;
    }
    marked.setOptions({
          renderer : renderer,
          pedantic: false,
          gfm: true,
          breaks: false,
          sanitize: false,
          smartLists: true,
          smartypants: false,
          xhtml: false
    });
    
    let path = '/framework/manual/';
    getPage = function(page) {
        $('#content').load(path+page+'.md', function(data) {
            $('#content').empty();
            $('#content').append(marked(data));
        });
    }
    
    getPage('intro');  // 최초 페이지
})
</script>
<body>
  <div id="manualList">
    <ul>
      <li><a href="javascript:getPage('intro');">Web Framework Guide</a></li>
      <li><a href="javascript:getPage('auth');">인증/권한/역할/사용자</a></li>
      <li><a href="javascript:getPage('logging');">로깅</a></li>
      <li><a href="javascript:getPage('file');">파일처리</a></li>
      <li><a href="javascript:getPage('security');">보안</a></li>
      <li><a href="javascript:getPage('i18n');">국제화</a></li>
      <li><a href="javascript:getPage('mail');">메일/단문자</a></li>
      <li><a href="javascript:getPage('scheduling');">스케줄링</a></li>
      <li><a href="javascript:getPage('db');">DB</a></li>
    </ul>
  </div>
  <div id="content"></div>
</body>
</html>